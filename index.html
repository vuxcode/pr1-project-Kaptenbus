<!--Dark theme-->
<meta name="color-scheme" content="dark">

<!--Making the text and buttons display in the "center"-->
<center>

<!--Output bigger text-->
<h1 id="test">Welcome to Tony's!</h1>

<!--Output smaller text-->
<p>Click any of the buttons to pick from different menus.</p>

<!--Buttons-->
<button onclick="chooseMenu(1)">Pizza menu</button>
<button onclick="chooseMenu(2)">Pasta menu</button>
<button onclick="chooseMenu(3)">Drink menu</button>
<button id="cart">Shopping cart</button>
<button id="change">Change order</button>

</center>

<!--Start of the javascript code-->
<script>

    var text = document.getElementById("test");
    text.innerHTML = "Welcome to Tony's!";


    function test2(test, test2)
    {
    
        if (test == 1)
        {
            cart.push(test2[0][0])
            cost.push(test2[0][1])
            console.log(cart);
            console.log(cost);
        }
        else if (test == 2)
        {
            cart.push(test2[1][0])
            cost.push(test2[1][1])
            console.log(cart);
            console.log(cost);
        }
        else if (test == 3)
        {
            cart.push(test2[2][0])
            cost.push(test2[2][1])
            console.log(cart);
            console.log(cost);
        }
        else
        {
            cart.push(test2[3][0])
            cost.push(test2[3][1])
            console.log(cart);
            console.log(cost);
        }

    }

    //Binding the button to the variable "button4-5"
    var button4 = document.getElementById("cart");
    var button5 = document.getElementById("change");
    
    //Binding the function to the variable "button4-5" and making it clickable
    button4.addEventListener("click", shoppingCart);
    button5.addEventListener("click", changeOrder);

    //Shopping cart and Change order disabled from start.
    buttonDisable(button4);
    buttonDisable(button5);
    
    //arrays for the different functions menu
    var pizzaMenu = 
    [["Calzone", 70, "<button onclick='test2(1, pizzaMenu)'>Add</button>"], 
    ["Kebbab", 80, "<button onclick='test2(2, pizzaMenu)'>Add</button>"], 
    ["Margherita", 70, "<button onclick='test2(3, pizzaMenu)'>Add</button>"], 
    ["Capricosa", 70, "<button onclick='test2(4, pizzaMenu)'>Add</button>"]];
    //["Hawaiian", 70]];
    var pastaMenu = 
    [["Bolognese", 70, "<button onclick='test2(1, pastaMenu)'>Add</button>"],
     ["Carbonara", 90], ["Lasagne", 80], ["Ravioli", 60]];
    var drinkMenu = [["Pepsi", 15], ["Fanta", 15], ["Sprite", 15],  ["Water", 10]];
    
    
    //array to store the users picked item prices
    var cost = [];

    //array for shoppingCart function stores the users input (choices from the menus)
    var cart = [];

    //stores the users picked items from the menus is used with the orderList function
    var listCart = "";

    //Function to make the users input in to an list. (the items the user picks from all the menus)
    function orderList()
    {
        //a loop to show each item from the cart array
        for (var index = 0; index < cart.length; index++)
        {
            //listCart += the cart[index] starting from the first item [0] + a newline
            listCart += cart[index] + "\n";
        }
    }

    //function for disable any button
    function buttonDisable(button)
    {
        //Disables button which is inputed in the "parameter" (button)
        button.disabled = true;
    }

    //Function for enable any button
    function buttonEnable(button)
    {
        //Enables button which is inputed in the "parameter" (button)
        button.disabled = false;
    }

    //Function which put the right menu for the right pressed button
    function chooseMenu(button)
    {
        //If the user press Pizza menu button
        if (button == 1)
        {
            //Runs the allMenu function with the pizzaMenu array
            allMenu(pizzaMenu);
        }

        //If the user press Pasta menu button
        else if (button == 2)
        {
            //Runs the allMenu function with the pastaMenu array
            allMenu(pastaMenu);
        }
        
        ////If the user press Drink menu button
        else
        {
            //Runs the allMenu function with the drinkMenu array
            allMenu(drinkMenu);
        }
    }
    
    //function for all the different menus
    function allMenu(menu)
    {
        //
        listCart = "";

        
        //A loop for all the different menus
        for (var index = 0; index < menu.length; index++)
        {
            //Output for the user too choose which item they want
            //var output = confirm(menu[index][0] + " " + menu[index][1] + ":-");
            listCart += menu[index] + "<br>";
            //var text = document.getElementById("test");
            //text.innerHTML = menu[index][0] + " " + menu[index][1] + ":-";

            //If the user picks an item
            //if (output == true)
            //{
                //Enables the Shopping cart button
                //buttonEnable(button4);

                //Pushing the item to the cart/cost array
                //cart.push(menu[index][0]);
                //cost.push(menu[index][1]);
            //}
        }
                    //var text = document.getElementById("test");
                    //text.innerHTML = "Welcome to Tony's!";
            text.innerHTML = listCart;

        //gives the user the output "End of menu!"
        //alert("End of menu!");
    }

    //Function for the "Shopping cart" button.
    function shoppingCart()
    {
        //to clear the stored items that the user picks so they don't show 2x times when reopening shoppingCart/changeOrder
        listCart = "";
        
        //function which makes the users picked items in to an list.
        orderList();

        //new variable that store the total cost of the user picked items
        var total = 0;

        //loop for the cost array
        for (var index1 = 0; index1 < cost.length; index1++)
        {
            //makes all index of the cost to total sum (index0 + index1 and so on) that is shown in the total variable
            total += cost[index1];
        }

        //Output for the user to see the order and accept/decline order.
        var a = confirm("Press OK to accept order, CANCEL to decline/change order." + "\n" + "\n" + listCart + "\n" + "Total cost is " + total + ":-");

        //if the user declines the order
        if (a == false)
        {
            //Output for the user
            var declineOrder = confirm("If you wish to change your order press 'OK' if not press 'CANCEL'.");

            //if the user decide to change the order
            if (declineOrder == true)
            {
                //Enables the Change order button
                buttonEnable(button5);
            }

            //if user don't want to change order
            else
            {
                //Disables the Shopping cart and Change order buttons
                buttonDisable(button4);
                buttonDisable(button5);
                
                //Emptying the cart array
                cart = [];

                //Emptying the cost array
                cost = [];
            }
        }

        //if the user accepts the order
        else
        {
            //Output for the user after accepting the order
            alert("Your order is being processed!" + "\n" + "Thank you for choosing Tony's!");

            //Disables the Shopping cart and Change order buttons
            buttonDisable(button4);
            buttonDisable(button5);
                
            //Emptying the cart array
            cart = [];

            //Emptying the cost array
            cost = [];
        };
    };

    //so the user can change their order
    function changeOrder()
    {
        //to clear the stored items that the user picks so they don't show 2x times when reopening shoppingCart/changeOrder
        listCart = "";
        
        //function which makes the users picked items in to an list.
        orderList();

        //Output for the user
        var order = prompt("Write which item you want to remove." + "\n" + listCart);
        
        //Fixing an error i had with pressing cancel on the prompt
        if (order)
        {        
            //make the users input to lowercase
            order = order.toLowerCase();

            //Users input then make a uppercase first letter then + the rest of the users input
            order = order.charAt(0).toUpperCase() + order.slice(1);

            //if the user input an item that he/she have in the cart
            if (cart.includes(order))
            {
                //var start will have the index of the users input of the prompt
                var start = cart.indexOf(order);

                var deleteindex = 1;
                
                //Removes the users input
                var remove = cart.splice(start, deleteindex);

                //removes the RIGHT price
                var removeCost = cost.splice(start, deleteindex);
                
                //show excisting cart 
                console.log(cart);
                //show item removed
                console.log(remove);
                //show excisting cost
                console.log(cost)
                //show which price removed
                console.log(removeCost);
            }

            //any spelling errors or numbers in the users input
            else
            {
                //output for the user
                alert("Maybe your spelling was incorrect, no numbers are allowed.");
            } 
        }
    }
    
</script>