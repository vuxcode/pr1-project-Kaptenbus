<!--Dark theme-->
<meta name="color-scheme" content="dark">

<!--Making the text and buttons display in the "center"-->
<center>

<!--Output bigger text-->
<h1>Welcome to Tony's!</h1>

<!--Output smaller text-->
<p>Click any of the buttons to pick from different menus.</p>

<!--Buttons-->
<button type="button" onclick="test(1)">Pizza menu</button>
<button id="pasta">Pasta menu</button>
<button id="drink">Drink list</button>
<button id="cart">Shopping cart</button>
<button id="change">Change order</button>

</center>

<!--Start of the javascript code-->
<script>
    
    //Binding the button to the variable "button1-5"
    //var button1 = document.getElementById("pizza");
    var button2 = document.getElementById("pasta");
    var button3 = document.getElementById("drink");
    var button4 = document.getElementById("cart");
    var button5 = document.getElementById("change");
    
    //Binding the function to the variable "button1-5" and making it clickable
    //button1.addEventListener("click", pizza);
    button2.addEventListener("click", pasta);
    button3.addEventListener("click", drink);
    button4.addEventListener("click", shoppingCart);
    button5.addEventListener("click", changeOrder);

    //Shopping cart and Change order disabled from start.
    buttonDisable(button4);
    buttonDisable(button5);
    
    //arrays for the different functions menu
    var pizzaMenu = ["Calzone", "Kebbab", "Margherita", "Capricosa", "Hawaiian"];
    var pastaMenu = ["Bolognese", "Carbonara", "Lasagne", "Ravioli"];
    var drinkMenu = ["Pepsi", "Fanta", "Sprite", "Water"];
    
    //array to store the users picked item prices
    var cost = [];

    //array for shoppingCart function stores the users input (choices from the menus)
    var cart = [];

    //stores the users picked items from the menus is used with the orderList function
    var listCart = "";

    //Function to make the users input in to an list. (the items the user picks from all the menus)
    function orderList()
    {
        //a loop to show each item from the cart array
        for (var index = 0; index < cart.length; index++)
        {
            //listCart += the cart[index] starting from the first item [0] + a newline
            listCart += cart[index] + "\n";
        }
    }        

    //Function so that the user get an alert that it is the end of the menu
    function endMenu()
    {
        //gives the user the output "End of menu!"
        alert("End of menu!");
    };

    //
    function test(button)
    {
        if (button == 1)
        {
            allMenu(pizzaMenu);
        }
    }
    
    //function for disable any button
    function buttonDisable(button)
    {
        //Disables button which is inputed in the "parameter" (button)
        button.disabled = true;
    }

    //Function for enable any button
    function buttonEnable(button)
    {
        //Enables button which is inputed in the "parameter" (button)
        button.disabled = false;
    }

    //function for all the different menus (in progress)
    function allMenu(menu)
    {
        //
        for (var index = 0; index < menu.length; index++)
        {
            //
            var a = confirm(menu[index]);

            //
            if (a == true)
            {
                //Enables the Shopping cart button
                buttonEnable(button4);

                //
                cart.push(menu[index]);

            }

        }
        //tells the user the menu has ended
        endMenu();
        //show the cart when testing the function in console with different menus
        console.log(cart);
    }

    //Function for the "Pizza menu" button
    function pizza()
    {
        //Making a loop for the pizzaMenu array
        for (var index = 0; index < pizzaMenu.length; index++)
        {
            //Output for the user too choose which pizza they want + the price
            var a = confirm(pizzaMenu[index] + " " + 70 + ":-");

            //when the user pick a pizza
            if (a == true)
            {
                //Enables the Shopping cart button
                buttonEnable(button4);

                //sending the picked pizza to the cart array
                cart.push(pizzaMenu[index]);

                //every time user picks a pizza it adds the price in the cost array
                cost.push(70);
            }

        }
    //tells the user the menu has ended
    endMenu();
    };

    //pasta menu function
    function pasta()
    {
        //Loop for the pastaMenu array, since i am creating a function i can use the same name on variable
        for (var index = 0; index < pastaMenu.length; index++)
        {
            //Output for he user too choose from which pasta they want
            var b = confirm(pastaMenu[index] + " " + 80 + ":-");

            //user picks pasta which will
            if (b == true)
            {
                //Enables the Shopping cart button
                buttonEnable(button4);

                //store the pasta choice to the order array + the price
                cart.push(pastaMenu[index]);
                
                //every time user picks a pasta it adds the price in the cost array
                cost.push(80);
            }
        }
    //tells the user the menu has ended
    endMenu();
    };

    //drink list function
    function drink()
    {
        //Loop for the drinkMenu array
        for (var index = 0; index < drinkMenu.length; index++)
        {
            //Output for the user to choose which drink they want + the price
            var c = confirm(drinkMenu[index] + " " + 10 + ":-");

            //user picks a drink which will
            if (c == true)
            {
                //Enables the Shopping cart button
                buttonEnable(button4);

                //Store the drink choice
                cart.push(drinkMenu[index]);

                //every time user picks a drink it adds the price in the cost array
                cost.push(10);
            }
        }
     //tell the user that the menu has ended
     endMenu();    
    };

    //Function for the "Shopping cart" button.
    function shoppingCart()
    {
        //to clear the stored items that the user picks so they don't show 2x times when reopening shoppingCart/changeOrder
        listCart = "";
        
        //function which makes the users picked items in to an list.
        orderList();

        //new variable that store the total cost of the user picked items
        var total = 0;

        //loop for the cost array
        for (var index1 = 0; index1 < cost.length; index1++)
        {
            //makes all index of the cost to total sum (index0 + index1 and so on) that is shown in the total variable
            total += cost[index1];
        }

        //Output for the user to see the order and accept/decline order.
        var a = confirm("Press OK to accept order, CANCEL to decline/change order." + "\n" + "\n" + listCart + "\n" + "Total cost is " + total + ":-");

        //if the user declines the order
        if (a == false)
        {
            //Output for the user
            var declineOrder = confirm("If you wish to change your order press 'OK' if not press 'CANCEL'.");

            //if the user decide to change the order
            if (declineOrder == true)
            {
                //Enables the Change order button
                buttonEnable(button5);
            }

            //if user don't want to change order
            else
            {
                //Disables the Shopping cart and Change order buttons
                buttonDisable(button4);
                buttonDisable(button5);
                
                //Emptying the cart array
                cart = [];

                //Emptying the cost array
                cost = [];
            }
        }

        //if the user accepts the order
        else
        {
            //Output for the user after accepting the order
            alert("Your order is being processed!" + "\n" + "Thank you for choosing Tony's!");

            //Disables the Shopping cart and Change order buttons
            buttonDisable(button4);
            buttonDisable(button5);
                
            //Emptying the cart array
            cart = [];

            //Emptying the cost array
            cost = [];
        };
    };

    //so the user can change their order
    function changeOrder()
    {
        //to clear the stored items that the user picks so they don't show 2x times when reopening shoppingCart/changeOrder
        listCart = "";
        
        //function which makes the users picked items in to an list.
        orderList();

        //Output for the user
        var order = prompt("Write which item you want to remove." + "\n" + listCart);
        
        //Fixing an error i had with pressing cancel on the prompt
        if (order)
        {        
            //make the users input to lowercase
            order = order.toLowerCase();

            //Users input then make a uppercase first letter then + the rest of the users input
            order = order.charAt(0).toUpperCase() + order.slice(1);

            //if the user input an item that he/she have in the cart
            if (cart.includes(order))
            {
                //var start will have the index of the users input of the prompt
                var start = cart.indexOf(order);

                var deleteindex = 1;
                
                //Removes the users input
                var remove = cart.splice(start, deleteindex);

                //removes the RIGHT price
                var removeCost = cost.splice(start, deleteindex);
                
                //show excisting cart 
                console.log(cart);
                //show item removed
                console.log(remove);
                //show excisting cost
                console.log(cost)
                //show which price removed
                console.log(removeCost);
            }

            //any spelling errors or numbers in the users input
            else
            {
                //output for the user
                alert("Maybe your spelling was incorrect, no numbers are allowed.");
            } 
        }
    }
    
</script>